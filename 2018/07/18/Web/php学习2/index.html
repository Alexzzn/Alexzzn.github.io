<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="我的博客分享"><title>phpѧϰ2 | MyBlog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.1"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">phpѧϰ2</h1><a id="logo" href="/.">MyBlog</a><p class="description">博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">phpѧϰ2</h1><div class="post-meta">Jul 18, 2018<span> | </span><span class="category"><a href="/categories/Web/">Web</a></span></div><div class="post-content"><h4 id="Day11"><a href="#Day11" class="headerlink" title="Day11"></a>Day11</h4><blockquote>
<p>1,增删改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1,数据库设计规范：</span><br><span class="line">        1，原子xing性</span><br><span class="line">        2，唯一性</span><br><span class="line">        3，独立性</span><br><span class="line">2，数据库操作：</span><br><span class="line">        insert into table_name ([a],[b]) values (a1,a2);</span><br><span class="line">        replace into table_name ([a],[b]) values (a1,a2);</span><br><span class="line">        insert  into  table_name  set  key1=value1，key2=value2；</span><br><span class="line">        insert into table_name (key1,key2) select key_other1,key_otber2 from  table_name2</span><br><span class="line">3, 删除数据</span><br><span class="line">    delete from table_name where [condition] order by key1 desc limit start range;</span><br><span class="line">4, 修改数据</span><br><span class="line">    update table_name set key1=value1,key2=value2 where [condition] order by `id` desc;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>2 ,连接表</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1，基本形式</span><br><span class="line">    table_name1 [action] join table_name2 [on condition]</span><br><span class="line">    table_name1 [action1] join table_name2 [confition] [action2] join table_name3</span><br><span class="line">2, select id name from table_name where price &gt; (select 5000)</span><br><span class="line">3,select  id  from  table_name  where  name  like ‘%zhangshan%’;</span><br><span class="line">4,select *from table_name1 union select *from table_name2;</span><br></pre></td></tr></table></figure>
<p>3,权限管理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">授予权限：</span><br><span class="line">    grant  权限列表  on  某库．某个对象  to  ‘用户名’@’允许登录的位置’  【identified  by  ‘密码’】；</span><br><span class="line">    eg:</span><br><span class="line">        grant select, insert, update, delete on testdb.* to common_user@&apos;%&apos;</span><br><span class="line">剥夺权限：</span><br><span class="line">    revoke  权限列表  on  某库．某个对象  from  ‘用户名’@’允许登录的位置’</span><br><span class="line">    其含义，跟grant中完全一样；</span><br></pre></td></tr></table></figure></p>
<p>4,事务：<br><code>`</code><br>• 原子性：一个事务中的所有语句，应该做到：要么全做，要么一个都不做；<br>• 一致性：让数据保持逻辑上的“合理性”，比如：一个商品出库时，既要让商品库中的该商品数量减1，又要让对应用户的购物车中的该商品加1；<br>• 隔离性：如果多个事务同时并发执行，但每个事务就像各自独立执行一样。<br>• 持久性：一个事务执行成功，则对数据来说应该是一个明确的硬盘数据更改（而不仅仅是内存中的变化）。</p>
<p>1，开启一个事务：<br>    start  transaction；​//也可以写成：begin；<br>2，执行多条增删改语句；​//也就是相当于希望这多条语句要作为一个“不可分割”的整体去执行的任务<br>3，判断这些语句执行的结果情况，并进行提交或回滚：<br>    if(  没有出错 ）{<br>    commit；​//提交事务；此时就是一次性完成；<br>    }<br>    else{<br>    rollback；​//回滚事务；此时就是全部撤销；<br>    }</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/07/18/Server/linux命令要点/">linux命令要点</a><a class="next" href="/2018/07/18/Web/ESLint配置/">ESLint配置</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://Alexzzn.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Server/">Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统相关/">系统相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/Web/mysql/">mysql</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/Server/字符串/">字符串</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/Web/mysql基本语句/">mysql基本语句</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/java注解/">java注解</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/地图定位/">地图定位</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/tableview/">tableview</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/swift4/">swift4</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/pod 错误问题/">pod 错误问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/BASH小结/">BASH小结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/iOS/WKWebView/">WKWebView</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">MyBlog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.1" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.1"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.1"></script></div></body></html>